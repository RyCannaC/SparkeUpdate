"use strict";exports.id=861,exports.ids=[861],exports.modules={84861:(e,t,n)=>{n.d(t,{getDefaultRoleAssumer:()=>t7,getDefaultRoleAssumerWithWebIdentity:()=>ne});var s=n(38085),i=n(65030),o=n(90251);let r=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),a={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};class l extends o.sI{constructor(e){super(e),Object.setPrototypeOf(this,l.prototype)}}class c extends l{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,c.prototype)}}class d extends l{constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,d.prototype)}}class u extends l{constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,u.prototype)}}class p extends l{constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,p.prototype)}}class h extends l{constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,h.prototype)}}class m extends l{constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,m.prototype)}}class f extends l{constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,f.prototype)}}class y extends l{constructor(e){super({name:"InvalidAuthorizationMessageException",$fault:"client",...e}),this.name="InvalidAuthorizationMessageException",this.$fault="client",Object.setPrototypeOf(this,y.prototype)}}let g=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:o.oc}}),P=e=>({...e,...e.Credentials&&{Credentials:g(e.Credentials)}}),S=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:o.oc}}),w=e=>({...e,...e.Credentials&&{Credentials:g(e.Credentials)}});var E=n(64352),b=n(19193);let v=async(e,t)=>{let n;return n=eG({...W(e,t),[el]:ed,[eF]:ea}),eo(t,er,"/",void 0,n)},I=async(e,t)=>{let n;return n=eG({...K(e,t),[el]:eh,[eF]:ea}),eo(t,er,"/",void 0,n)},A=async(e,t)=>{if(e.statusCode>=300)return C(e,t);let n=await (0,E.he)(e.body,t),s={};return s=N(n.AssumeRoleResult,t),{$metadata:es(e),...s}},x=async(e,t)=>{if(e.statusCode>=300)return C(e,t);let n=await (0,E.he)(e.body,t),s={};return s=L(n.AssumeRoleWithWebIdentityResult,t),{$metadata:es(e),...s}},C=async(e,t)=>{let n={...e,body:await (0,E.OH)(e.body,t)},s=eV(e,n.body);switch(s){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await k(n,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await O(n,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await j(n,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await z(n,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await $(n,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await T(n,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await R(n,t);case"InvalidAuthorizationMessageException":case"com.amazonaws.sts#InvalidAuthorizationMessageException":throw await D(n,t);default:return ei({output:e,parsedBody:n.body.Error,errorCode:s})}},k=async(e,t)=>{let n=e.body,s=_(n.Error,t),i=new c({$metadata:es(e),...s});return(0,o.to)(i,n)},R=async(e,t)=>{let n=e.body,s=X(n.Error,t),i=new f({$metadata:es(e),...s});return(0,o.to)(i,n)},$=async(e,t)=>{let n=e.body,s=Z(n.Error,t),i=new h({$metadata:es(e),...s});return(0,o.to)(i,n)},D=async(e,t)=>{let n=e.body,s=J(n.Error,t),i=new y({$metadata:es(e),...s});return(0,o.to)(i,n)},T=async(e,t)=>{let n=e.body,s=Q(n.Error,t),i=new m({$metadata:es(e),...s});return(0,o.to)(i,n)},O=async(e,t)=>{let n=e.body,s=ee(n.Error,t),i=new d({$metadata:es(e),...s});return(0,o.to)(i,n)},j=async(e,t)=>{let n=e.body,s=et(n.Error,t),i=new u({$metadata:es(e),...s});return(0,o.to)(i,n)},z=async(e,t)=>{let n=e.body,s=en(n.Error,t),i=new p({$metadata:es(e),...s});return(0,o.to)(i,n)},W=(e,t)=>{let n={};if(null!=e[eR]&&(n[eR]=e[eR]),null!=e[e$]&&(n[e$]=e[e$]),null!=e[ev]){let s=Y(e[ev],t);e[ev]?.length===0&&(n.PolicyArns=[]),Object.entries(s).forEach(([e,t])=>{n[`PolicyArns.${e}`]=t})}if(null!=e[eb]&&(n[eb]=e[eb]),null!=e[eP]&&(n[eP]=e[eP]),null!=e[eW]){let s=G(e[eW],t);e[eW]?.length===0&&(n.Tags=[]),Object.entries(s).forEach(([e,t])=>{n[`Tags.${e}`]=t})}if(null!=e[eY]){let s=q(e[eY],t);e[eY]?.length===0&&(n.TransitiveTagKeys=[]),Object.entries(s).forEach(([e,t])=>{n[`TransitiveTagKeys.${e}`]=t})}if(null!=e[ew]&&(n[ew]=e[ew]),null!=e[ej]&&(n[ej]=e[ej]),null!=e[eK]&&(n[eK]=e[eK]),null!=e[eO]&&(n[eO]=e[eO]),null!=e[eA]){let s=H(e[eA],t);e[eA]?.length===0&&(n.ProvidedContexts=[]),Object.entries(s).forEach(([e,t])=>{n[`ProvidedContexts.${e}`]=t})}return n},K=(e,t)=>{let n={};if(null!=e[eR]&&(n[eR]=e[eR]),null!=e[e$]&&(n[e$]=e[e$]),null!=e[eH]&&(n[eH]=e[eH]),null!=e[ex]&&(n[ex]=e[ex]),null!=e[ev]){let s=Y(e[ev],t);e[ev]?.length===0&&(n.PolicyArns=[]),Object.entries(s).forEach(([e,t])=>{n[`PolicyArns.${e}`]=t})}return null!=e[eb]&&(n[eb]=e[eb]),null!=e[eP]&&(n[eP]=e[eP]),n},Y=(e,t)=>{let n={},s=1;for(let i of e)null!==i&&(Object.entries(F(i,t)).forEach(([e,t])=>{n[`member.${s}.${e}`]=t}),s++);return n},F=(e,t)=>{let n={};return null!=e[eU]&&(n[eU]=e[eU]),n},M=(e,t)=>{let n={};return null!=e[eI]&&(n[eI]=e[eI]),null!=e[eg]&&(n[eg]=e[eg]),n},H=(e,t)=>{let n={},s=1;for(let i of e)null!==i&&(Object.entries(M(i,t)).forEach(([e,t])=>{n[`member.${s}.${e}`]=t}),s++);return n},U=(e,t)=>{let n={};return null!=e[eE]&&(n[eE]=e[eE]),null!=e[eM]&&(n[eM]=e[eM]),n},q=(e,t)=>{let n={},s=1;for(let t of e)null!==t&&(n[`member.${s}`]=t,s++);return n},G=(e,t)=>{let n={},s=1;for(let i of e)null!==i&&(Object.entries(U(i,t)).forEach(([e,t])=>{n[`member.${s}.${e}`]=t}),s++);return n},V=(e,t)=>{let n={};return null!=e[eu]&&(n[eu]=(0,o.pY)(e[eu])),null!=e[em]&&(n[em]=(0,o.pY)(e[em])),n},N=(e,t)=>{let n={};return null!=e[ey]&&(n[ey]=B(e[ey],t)),null!=e[ep]&&(n[ep]=V(e[ep],t)),null!=e[eC]&&(n[eC]=(0,o.AF)(e[eC])),null!=e[eO]&&(n[eO]=(0,o.pY)(e[eO])),n},L=(e,t)=>{let n={};return null!=e[ey]&&(n[ey]=B(e[ey],t)),null!=e[eT]&&(n[eT]=(0,o.pY)(e[eT])),null!=e[ep]&&(n[ep]=V(e[ep],t)),null!=e[eC]&&(n[eC]=(0,o.AF)(e[eC])),null!=e[ek]&&(n[ek]=(0,o.pY)(e[ek])),null!=e[ef]&&(n[ef]=(0,o.pY)(e[ef])),null!=e[eO]&&(n[eO]=(0,o.pY)(e[eO])),n},B=(e,t)=>{let n={};return null!=e[ec]&&(n[ec]=(0,o.pY)(e[ec])),null!=e[eD]&&(n[eD]=(0,o.pY)(e[eD])),null!=e[ez]&&(n[ez]=(0,o.pY)(e[ez])),null!=e[eS]&&(n[eS]=(0,o.CE)((0,o.aH)(e[eS]))),n},_=(e,t)=>{let n={};return null!=e[eq]&&(n[eq]=(0,o.pY)(e[eq])),n},X=(e,t)=>{let n={};return null!=e[eq]&&(n[eq]=(0,o.pY)(e[eq])),n},Z=(e,t)=>{let n={};return null!=e[eq]&&(n[eq]=(0,o.pY)(e[eq])),n},J=(e,t)=>{let n={};return null!=e[eq]&&(n[eq]=(0,o.pY)(e[eq])),n},Q=(e,t)=>{let n={};return null!=e[eq]&&(n[eq]=(0,o.pY)(e[eq])),n},ee=(e,t)=>{let n={};return null!=e[eq]&&(n[eq]=(0,o.pY)(e[eq])),n},et=(e,t)=>{let n={};return null!=e[eq]&&(n[eq]=(0,o.pY)(e[eq])),n},en=(e,t)=>{let n={};return null!=e[eq]&&(n[eq]=(0,o.pY)(e[eq])),n},es=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),ei=(0,o.PC)(l),eo=async(e,t,n,s,i)=>{let{hostname:o,protocol:r="https",port:a,path:l}=await e.endpoint(),c={protocol:r,hostname:o,port:a,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+n:l+n,headers:t};return void 0!==s&&(c.hostname=s),void 0!==i&&(c.body=i),new b.aW(c)},er={"content-type":"application/x-www-form-urlencoded"},ea="2011-06-15",el="Action",ec="AccessKeyId",ed="AssumeRole",eu="AssumedRoleId",ep="AssumedRoleUser",eh="AssumeRoleWithWebIdentity",em="Arn",ef="Audience",ey="Credentials",eg="ContextAssertion",eP="DurationSeconds",eS="Expiration",ew="ExternalId",eE="Key",eb="Policy",ev="PolicyArns",eI="ProviderArn",eA="ProvidedContexts",ex="ProviderId",eC="PackedPolicySize",ek="Provider",eR="RoleArn",e$="RoleSessionName",eD="SecretAccessKey",eT="SubjectFromWebIdentityToken",eO="SourceIdentity",ej="SerialNumber",ez="SessionToken",eW="Tags",eK="TokenCode",eY="TransitiveTagKeys",eF="Version",eM="Value",eH="WebIdentityToken",eU="arn",eq="message",eG=e=>Object.entries(e).map(([e,t])=>(0,o.jc)(e)+"="+(0,o.jc)(t)).join("&"),eV=(e,t)=>t.Error?.Code!==void 0?t.Error.Code:404==e.statusCode?"NotFound":void 0;class eN extends o.mY.classBuilder().ep(a).m(function(e,t,n,o){return[(0,i.p2)(n,this.serialize,this.deserialize),(0,s.a3)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,P).ser(v).de(A).build(){}class eL extends o.mY.classBuilder().ep(a).m(function(e,t,n,o){return[(0,i.p2)(n,this.serialize,this.deserialize),(0,s.a3)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(S,w).ser(I).de(x).build(){}let eB="us-east-1",e_=e=>{if("string"==typeof e?.Arn){let t=e.Arn.split(":");if(t.length>4&&""!==t[4])return t[4]}},eX=async(e,t,n)=>{let s="function"==typeof e?await e():e,i="function"==typeof t?await t():t;return n?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${s} (provider)`,`${i} (parent client)`,`${eB} (STS default)`),s??i??eB},eZ=(e,t)=>{let n,s;return async(i,o)=>{if(s=i,!n){let{logger:i=e?.parentClientConfig?.logger,region:o,requestHandler:r=e?.parentClientConfig?.requestHandler,credentialProviderLogger:a}=e;n=new t({credentialDefaultProvider:()=>async()=>s,region:await eX(o,e?.parentClientConfig?.region,a),requestHandler:eQ(r)?void 0:r,logger:i})}let{Credentials:r,AssumedRoleUser:a}=await n.send(new eN(o));if(!r||!r.AccessKeyId||!r.SecretAccessKey)throw Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);let l=e_(a);return{accessKeyId:r.AccessKeyId,secretAccessKey:r.SecretAccessKey,sessionToken:r.SessionToken,expiration:r.Expiration,...r.CredentialScope&&{credentialScope:r.CredentialScope},...l&&{accountId:l}}}},eJ=(e,t)=>{let n;return async s=>{if(!n){let{logger:s=e?.parentClientConfig?.logger,region:i,requestHandler:o=e?.parentClientConfig?.requestHandler,credentialProviderLogger:r}=e;n=new t({region:await eX(i,e?.parentClientConfig?.region,r),requestHandler:eQ(o)?void 0:o,logger:s})}let{Credentials:i,AssumedRoleUser:o}=await n.send(new eL(s));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${s.RoleArn}`);let r=e_(o);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...r&&{accountId:r}}}},eQ=e=>e?.metadata?.handlerProtocol==="h2";var e0=n(50553),e1=n(52031),e2=n(46288),e4=n(20197),e6=n(8086),e5=n(32491),e8=n(45808),e3=n(54859),e9=n(58213),e7=n(82264);let te=async(e,t,n)=>({operation:(0,e7.J)(t).operation,region:await (0,e7.$)(e.region)()||(()=>{throw Error("expected `region` to be configured for `aws.auth#sigv4`")})()}),tt=e=>{let t=[];switch(e.operation){case"AssumeRoleWithSAML":case"AssumeRoleWithWebIdentity":t.push({schemeId:"smithy.api#noAuth"});break;default:t.push({schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})})}return t},tn=e=>({...e,stsClientCtor:t3}),ts=e=>{let t=tn(e);return{...(0,e9.K)(t)}},ti={i8:"3.651.1"};var to=n(68542),tr=n(63994),ta=n(10011),tl=n(39916),tc=n(61385),td=n(24407),tu=n(22025),tp=n(35841),th=n(72667),tm=n(43611),tf=n(99206),ty=n(68667),tg=n(54833),tP=n(12750);let tS="required",tw="type",tE="argv",tb="booleanEquals",tv="stringEquals",tI="sigv4",tA="us-east-1",tx="endpoint",tC="https://sts.{Region}.{PartitionResult#dnsSuffix}",tk="tree",tR="error",t$="getAttr",tD={[tS]:!1,[tw]:"String"},tT={[tS]:!0,default:!1,[tw]:"Boolean"},tO={ref:"Endpoint"},tj={fn:"isSet",[tE]:[{ref:"Region"}]},tz={ref:"Region"},tW={fn:"aws.partition",[tE]:[tz],assign:"PartitionResult"},tK={ref:"UseFIPS"},tY={ref:"UseDualStack"},tF={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:tI,signingName:"sts",signingRegion:tA}]},headers:{}},tM={},tH={conditions:[{fn:tv,[tE]:[tz,"aws-global"]}],[tx]:tF,[tw]:tx},tU={fn:tb,[tE]:[tK,!0]},tq={fn:tb,[tE]:[tY,!0]},tG={fn:t$,[tE]:[{ref:"PartitionResult"},"supportsFIPS"]},tV={ref:"PartitionResult"},tN={fn:tb,[tE]:[!0,{fn:t$,[tE]:[tV,"supportsDualStack"]}]},tL=[{fn:"isSet",[tE]:[tO]}],tB=[tU],t_=[tq],tX={version:"1.0",parameters:{Region:tD,UseDualStack:tT,UseFIPS:tT,Endpoint:tD,UseGlobalEndpoint:tT},rules:[{conditions:[{fn:tb,[tE]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[tE]:tL},tj,tW,{fn:tb,[tE]:[tK,!1]},{fn:tb,[tE]:[tY,!1]}],rules:[{conditions:[{fn:tv,[tE]:[tz,"ap-northeast-1"]}],endpoint:tF,[tw]:tx},{conditions:[{fn:tv,[tE]:[tz,"ap-south-1"]}],endpoint:tF,[tw]:tx},{conditions:[{fn:tv,[tE]:[tz,"ap-southeast-1"]}],endpoint:tF,[tw]:tx},{conditions:[{fn:tv,[tE]:[tz,"ap-southeast-2"]}],endpoint:tF,[tw]:tx},tH,{conditions:[{fn:tv,[tE]:[tz,"ca-central-1"]}],endpoint:tF,[tw]:tx},{conditions:[{fn:tv,[tE]:[tz,"eu-central-1"]}],endpoint:tF,[tw]:tx},{conditions:[{fn:tv,[tE]:[tz,"eu-north-1"]}],endpoint:tF,[tw]:tx},{conditions:[{fn:tv,[tE]:[tz,"eu-west-1"]}],endpoint:tF,[tw]:tx},{conditions:[{fn:tv,[tE]:[tz,"eu-west-2"]}],endpoint:tF,[tw]:tx},{conditions:[{fn:tv,[tE]:[tz,"eu-west-3"]}],endpoint:tF,[tw]:tx},{conditions:[{fn:tv,[tE]:[tz,"sa-east-1"]}],endpoint:tF,[tw]:tx},{conditions:[{fn:tv,[tE]:[tz,tA]}],endpoint:tF,[tw]:tx},{conditions:[{fn:tv,[tE]:[tz,"us-east-2"]}],endpoint:tF,[tw]:tx},{conditions:[{fn:tv,[tE]:[tz,"us-west-1"]}],endpoint:tF,[tw]:tx},{conditions:[{fn:tv,[tE]:[tz,"us-west-2"]}],endpoint:tF,[tw]:tx},{endpoint:{url:tC,properties:{authSchemes:[{name:tI,signingName:"sts",signingRegion:"{Region}"}]},headers:tM},[tw]:tx}],[tw]:tk},{conditions:tL,rules:[{conditions:tB,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[tw]:tR},{conditions:t_,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[tw]:tR},{endpoint:{url:tO,properties:tM,headers:tM},[tw]:tx}],[tw]:tk},{conditions:[tj],rules:[{conditions:[tW],rules:[{conditions:[tU,tq],rules:[{conditions:[{fn:tb,[tE]:[!0,tG]},tN],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:tM,headers:tM},[tw]:tx}],[tw]:tk},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[tw]:tR}],[tw]:tk},{conditions:tB,rules:[{conditions:[{fn:tb,[tE]:[tG,!0]}],rules:[{conditions:[{fn:tv,[tE]:[{fn:t$,[tE]:[tV,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:tM,headers:tM},[tw]:tx},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:tM,headers:tM},[tw]:tx}],[tw]:tk},{error:"FIPS is enabled but this partition does not support FIPS",[tw]:tR}],[tw]:tk},{conditions:t_,rules:[{conditions:[tN],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:tM,headers:tM},[tw]:tx}],[tw]:tk},{error:"DualStack is enabled but this partition does not support DualStack",[tw]:tR}],[tw]:tk},tH,{endpoint:{url:tC,properties:tM,headers:tM},[tw]:tx}],[tw]:tk}],[tw]:tk},{error:"Invalid Configuration: Missing Region",[tw]:tR}]},tZ=new tP.$X({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),tJ=(e,t={})=>tZ.get(e,()=>(0,tP.B1)(tX,{endpointParams:e,logger:t.logger}));tP.DY.aws=tg.Iu;let tQ=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??tf.G,base64Encoder:e?.base64Encoder??tf.s,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??tJ,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??tt,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new tr.VR},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new e5.oH}],logger:e?.logger??new o.vk,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??tm.e,utf8Decoder:e?.utf8Decoder??ty.$x,utf8Encoder:e?.utf8Encoder??ty.GZ});var t0=n(97574);let t1=e=>{(0,o.H_)(process.version);let t=(0,t0.j)(e),n=()=>t().then(o.jv),s=tQ(e);return(0,to.H)(process.version),{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??tp.W,credentialDefaultProvider:e?.credentialDefaultProvider??ta.iw,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,tl.fV)({serviceId:s.serviceId,clientVersion:ti.i8}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4")||(async e=>await (0,ta.iw)(e?.__config||{})()),signer:new tr.VR},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new e5.oH}],maxAttempts:e?.maxAttempts??(0,td.M)(e3.Hs),region:e?.region??(0,td.M)(e6._c,e6.zb),requestHandler:tu.NA.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,td.M)({...e3.aK,default:async()=>(await n()).retryMode||th.CA}),sha256:e?.sha256??tc.k.bind(null,"sha256"),streamCollector:e?.streamCollector??tu.CF,useDualstackEndpoint:e?.useDualstackEndpoint??(0,td.M)(e6.G7),useFipsEndpoint:e?.useFipsEndpoint??(0,td.M)(e6.NL)}};var t2=n(84959);let t4=e=>{let t=e.httpAuthSchemes,n=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(e){let n=t.findIndex(t=>t.schemeId===e.schemeId);-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){s=e},credentials:()=>s}},t6=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),t5=e=>e,t8=(e,t)=>{let n={...t5((0,t2.GW)(e)),...t5((0,o.kE)(e)),...t5((0,b.cA)(e)),...t5(t4(e))};return t.forEach(e=>e.configure(n)),{...e,...(0,t2.A1)(n),...(0,o.SQ)(n),...(0,b.AO)(n),...t6(n)}};class t3 extends o.KU{constructor(...[e]){let t=r(t1(e||{})),n=(0,e4.er)(t),i=(0,e3.BC)(n),o=(0,e6.Xb)(i),a=(0,e0.S8)(o),l=t8(ts((0,s.uW)(a)),e?.extensions||[]);super(l),this.config=l,this.middlewareStack.use((0,e4.XJ)(this.config)),this.middlewareStack.use((0,e3.NQ)(this.config)),this.middlewareStack.use((0,e8.VG)(this.config)),this.middlewareStack.use((0,e0.G2)(this.config)),this.middlewareStack.use((0,e1.cV)(this.config)),this.middlewareStack.use((0,e2.eV)(this.config)),this.middlewareStack.use((0,e5.tZ)(this.config,{httpAuthSchemeParametersProvider:te,identityProviderConfigProvider:async e=>new e5.K5({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,e5.aZ)(this.config))}destroy(){super.destroy()}}let t9=(e,t)=>t?class extends e{constructor(e){for(let n of(super(e),t))this.middlewareStack.use(n)}}:e,t7=(e={},t)=>eZ(e,t9(t3,t)),ne=(e={},t)=>eJ(e,t9(t3,t))}};